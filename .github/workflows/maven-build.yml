name: Maven Build Template
description: Template for building Maven projects using GitHub Actions

on:
  workflow_call:  # <-- makes this workflow callable
    inputs:
      name:
        description: "Who to greet"
        required: false
        type: string
      branch:
        description: "Which branch it runs from"
        required: true
        type: string
    secrets:
      MY_SECRET:
        required: false

jobs:
  build:
    runs-on: ubuntu-latest
    container:
      image: ghcr.io/timelesscosmos/action-template/mule-builder:1.0

    steps:
    - name: Checkout code
      uses: actions/checkout@v3

    - name: Build with Maven
      run: mvn clean install

    - name: Display NPM version
      run: npm list -g anypoint-cli --depth=0

    - name: Finish Run
      run: echo "${{ inputs.name }} Finish run from GitHub Actions template from ${{inputs.branch}}!"
